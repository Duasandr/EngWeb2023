extends layout

block content 
  .w3-card-4
    header.w3-blue
      h1 Task Management 
      
      .w3-container.w3-white
        h2 Submissions
        
        table.w3-table-all
          tr
            th Submit task
            th Register User

          tr
            td
              form.w3-container(method="POST" action="/tasks/submit")
                fieldset
                  legend Task
                  label Due date:
                  input.w3-input.w3-round(type="date" name="dueDate")
                  label Who:
                  input.w3-input.w3-round(type="text" name="who")
                  label What:
                  input.w3-input.w3-round(type="text" name="what")
                  input(type="hidden" name="resolved" value="false")

                  button.w3-btn.w3-purple.w3-mb-2(type="submit") Submit Task

            td
              form.w3-container(method="POST" action="/users/submit")
                fieldset
                  legend User
                  label Name:
                  input.w3-input.w3-round(type="text" name="name")

                  button.w3-btn.w3-purple.w3-mb-2(type="submit") Submit User
                
            tr
              th Work in progress
              th Completed
        
            tr
              td
                ul.w3-ul.w3-hoverable
                  each task in taskList
                    if task.resolved == "false"
                      li
                        form(method="POST" action="/tasks/submit/resolved")
                          input(type="hidden" name="id" value=task.id)
                          input(type="hidden" name="dueDate" value=task.dueDate)
                          input(type="hidden" name="who" value=task.who)
                          input(type="hidden" name="what" value=task.what)
                          input(type="hidden" name="resolved" value="true")
                          button.w3-btn.w3-green.w3-round(type="submit") Done
                        
                        p
                          span.w3-tag.w3-round.w3-blue= task.who
                          span.w3-tag.w3-round.w3-blue= task.dueDate
                          span.w3-tag.w3-round.w3-blue= task.what
                      
                          a.w3-black.w3-round(href="/tasks/delete") Delete

              td
                ul.w3-ul.w3-hoverable
                  each task in taskList
                    if task.resolved == "true"
                      li
                        form(method="POST" action="/tasks/submit/unresolved")
                          input(type="hidden" name="id" value=task.id)
                          input(type="hidden" name="dueDate" value=task.dueDate)
                          input(type="hidden" name="who" value=task.who)
                          input(type="hidden" name="what" value=task.what)
                          input(type="hidden" name="resolved" value="false")
                          button.w3-btn.w3-red.w3-round(type="submit") Undo
                        
                        p
                          span.w3-tag.w3-round.w3-blue= task.who
                          span.w3-tag.w3-round.w3-blue= task.dueDate
                          span.w3-tag.w3-round.w3-blue= task.what

    footer.w3-container.w3-blue
      h5 Generated by Tasks Server in #[date]